{% extends 'base.html' %}
{% block contenido %}
{% load static %}
{% load crispy_forms_tags %}
{% block js %}
<!--Delete Function-->
<script>
    function eliminarProveedor(id_proveedor){
        Swal.fire({
            "title":"¿Estas seguro?",
            "text":"esta acción no se puede deshacer",
            "icon":"question",
            "showCancelButton":true,
            "cancelButtonText":"Cancelar",
            "confirmButtonText":"Eliminar",
            "reverseButtons":true,
            "confirmButtonColor":"#dc3545",
            "cancelButtonColor":"#303030"
        })
        .then(function(result){
            if(result.isConfirmed){
                window.location.href = "/eliminar-proveedor/"+id_proveedor+"/"
            }
        })
    }
</script>
{% endblock %}

<div class="card">
    <div class="card-body">
        <h2 class="text-center">Listado de proveedores</h2>
        <br>
        <table class="table table-striped table-hover table-responsive-sm">
            <tr>
                <th>Nombre del proveedor</th>
                <th>Rol del local</th>
                <th>Celular</th>
                <th>Descripción</th>
            </tr>
            
            {% for p in proveedores %}

            <tr>
                <td>{{p.nom_proveedor | title}}</td>
                <td>{{p.rol_local | title }}</td>
                <td>{{p.celular}}</td>
                <td>{{p.descripcion}}</td>
                <td>
                    <a href="{% url 'modificar_proveedor' p.id_proveedor %}" class="btn btn-primary btn-sm">Modificar</a>
                    <a href="#" onclick="eliminarProveedor({{p.id_proveedor}}) " class="btn btn-danger btn-sm">Eliminar</a> 
                </td>
            </tr>

            {% endfor %}
            </table>
    </div>
</div>
{% endblock %}