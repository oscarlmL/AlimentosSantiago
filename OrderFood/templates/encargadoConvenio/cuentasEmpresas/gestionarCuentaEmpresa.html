{% extends 'base.html' %}
{% block contenido %}
{% load static %}
{% block js %}
<script>
    function eliminarCtaTrabEmp(id){
        Swal.fire({
            "title":"¿Estas seguro?",
            "text":"esta acción no se puede deshacer",
            "icon":"question",
            "showCancelButton":true,
            "cancelButtonText":"Cancelar",
            "confirmButtonText":"Eliminar",
            "reverseButtons":true,
            "confirmButtonColor":"#dc3545",
            "cancelButtonColor":"#303030"


        })
        .then(function(result){
            if(result.isConfirmed){
                window.location.href = "/eliminar-cuentaTrabEmp/"+id+"/"
            }
        })
    }
</script>
{% endblock %}
<br>
<br>
<br>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-10 col-md-6 col-lg-4 col-xl-3">
            {% if error %}
            <div class="alert alert-danger" role="alert">
                {{error}}
            </div>
            {% endif %}
            {% if messages %}
            {% for m in messages %}
            <div class="alert alert-success" role="alert">
                {{m}}
            </div>
            {% endfor %}
            {% endif %}
            <h2>Ingresar Cuenta Trabajador Empresa</h2>

            <div class="card">
                <div class="card-body">
                <form method="POST" action="">
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <input type="text" class="form-control" name="rut_cli" placeholder="Rut" id=""
                            value="{{values.rut_cli}}" maxlength="12" onkeyup="formatoRut(this)">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" id="" name="nombre_cli" aria-describedby=""
                            placeholder="Nombres" value="{{values.nombre_cli}}">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" id="" name="apaterno_cli" aria-describedby=""
                            placeholder="Apellido Paterno" value="{{values.apaterno_cli}}">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" id="" name="amaterno_cli" aria-describedby=""
                            placeholder="Apellido Materno" value="{{values.amaterno_cli}}">
                    </div>
                    
                    <div class="form-group">
                        <input type="number" class="form-control" id="" name="fono_cli" aria-describedby=""
                            value="{{values.fono_cli}}" placeholder="Celular ej: 912345678">
                    </div>
                    <div class="form-group">
                        <input type="email" class="form-control" id="" name="email_cli" aria-describedby=""
                            value="{{values.email_cli}}" placeholder="ejemplo: emailcliente@dominio.com">
                    </div>
                    <!-- <div class="form-group">
                        <input type="text" class="form-control" id="" name="direccion_cliente" aria-describedby=""
                            placeholder="Direccion" value="{{values.direccion_cliente}}">
                    </div> -->
                    <div class="form-group">
                        <input type="text" class="form-control" id="" name="convenio" aria-describedby=""
                            placeholder="Convenio" value="{{values.convenio}}">
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="" name="contraseña1" aria-describedby=""
                            placeholder="Ingresar Contraseña">
                    </div>
                        <input type="password" class="form-control" id="" name="contraseña2" aria-describedby=""
                            placeholder="Confirmar Contraseña">
                    </div>

                    <div class="form-group">
                        <input type="submit" class="btn btn-dark btn-round btn-block" value="Generar">
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="col-sm-12 col-md-6 col-lg-8 col-xl-8">
        <h2>Cuentas Trabajador Empresa</h2>
        <div class="table-responsive py-2">
            <table class="table table-striped">
                <tr class="table-active">
                    <th>Rut</th>
                    <th>Nombre</th>
                    <th>Apellido Paterno</th>
                    <th>Celular</th>
                    <th>Email</th>
                    <th>Hopcsiones</th>
                </tr>
            
                {% for cuentasClienteConvenio in cuentaClienteConvenio %}
                <tr class="table-light">
                    <th>{{cuentasClienteConvenio.rut_cli}}</th>
                    <th>{{cuentasClienteConvenio.nombre_cli}}</th>
                    <th>{{cuentasClienteConvenio.apaterno_cli}}</th>
                    <th>{{cuentasClienteConvenio.fono_cli}}</th>
                    <th>{{cuentasClienteConvenio.email_cli}}</th>
                    <td>
                        <!-- <a href="{% url 'editar-cuentaTrabEmp' %}?rut_cli={{cuentasClienteConvenio.rut_cli}} "
                            class="btn btn-dark btn-sm">Modificar</a> -->
                        <a href="#", onclick="eliminarCtaTrabEmp({{cuentasClienteConvenio.id}})"
                            class="btn btn-danger btn-sm">Eliminar</a>
                    </td>
                </tr>
                {% endfor %}
            </table>
            
        </div>
    </div> 
    
    

</div>
{% endblock %}