{% extends 'base.html' %}
{% block contenido %}
{% load static %}

<br>
<br>
<div class="row">
    <div class="col-lg-5  mx-auto col-md-6 offset-md-3">
        {% if error %}
        <div class="alert alert-danger" role="alert">
            {{error}}
        </div>
        {% endif %}
        {% if messages %}
        {% for m in messages %}
        <div class="alert alert-success" role="alert">
            {{m}}
        </div>
        {% endfor %}
        {% endif %}
        <div class="card">
            <div class="card-body">
                <h1>Editar datos Repartidor</h1>
                <hr>
                <form method="POST" action="">
                    {% csrf_token %}
                    <div class="form-group">
                        <input type="hidden" class="form-control" name="id_repartidor" placeholder="Rut" id=""
                            value="{{cuentaRepartidor.id_repartidor}}" readonly required maxlength="12">
                    </div>
                    <div class="form-group">
                        <label for="">Rut Repartidor</label>
                        <input type="text" class="form-control" name="rut_repartidor" placeholder="Rut" id=""
                            value="{{cuentaRepartidor.rut_repartidor}}" onkeyup="formatoRut(this)" maxlength="12">
                    </div>
                    <div class="form-group">
                        <label for="">Nombres</label>
                        <input type="text" class="form-control" name="nombre_repartidor" placeholder="Nombre" id=""
                            value="{{cuentaRepartidor.nombre_repartidor}}" onkeypress="return soloLetras(event)">
                    </div>
                    <div class="form-group">
                        <label for="">Apellidos</label>
                        <input type="text" class="form-control" id="" name="apellido_repartidor" aria-describedby=""
                            placeholder="Apellido" value="{{cuentaRepartidor.apellido_repartidor}}" onkeypress="return soloLetras(event)">
                    </div>
                    <div class="form-group">
                        <label for="">Celular de contacto</label>
                        <input type="number" class="form-control" id="" name="celular" aria-describedby=""
                            placeholder="celular ej: 912345678" value="{{cuentaRepartidor.celular}}" onkeypress="return valideKey(event);">
                    </div>
                    <div class="form-group">
                        <label for="">Email de trabajo</label>
                        <input type="email" class="form-control" id="" name="email_repartidor" aria-describedby=""
                            value="{{cuentaRepartidor.email_repartidor}}" placeholder="email ej: nombre@gmail.com">
                    </div>
                    <div class="form-group">
                        <label for="">Tipo de Vehiculo</label>
                        <select class="form-control" value="{{cuentaRepartidor.tipo_veh}}" name="tipo_veh" id="tipo_veh"
                            onclick="showInp(this);">
                            <option value="">--- Seleccionar Tipo de Vehículo ---</option>
                            {% if cuentaRepartidor.tipo_veh == "Auto" %}
                            <option value="Auto" selected>Auto</option>
                            {% else %}
                            <option value="Auto">Auto</option>
                            {% endif %}

                            {% if cuentaRepartidor.tipo_veh == "Bicicleta" %}
                            <option value="Bicicleta" selected>Bicicleta</option>
                            {% else %}
                            <option value="Bicicleta">Bicicleta</option>
                            {% endif %}

                            {% if cuentaRepartidor.tipo_veh == "Moto" %}
                            <option value="Moto" selected>Moto</option>
                            {% else %}
                            <option value="Moto">Moto</option>
                            {% endif %}
                        </select>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" style="display: none" id="patente_veh_moto"
                            name="patente_veh_moto" value="{{cuentaRepartidor.patente_veh}}" maxlength="6"
                            onkeyup="formatoPatenteMoto(this);" placeholder="Patente de la Moto">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" style="display: none" id="patente_veh_auto"
                            name="patente_veh_auto" value="{{cuentaRepartidor.patente_veh}}" maxlength="8"
                            onkeyup="formatoPatenteAuto(this);" placeholder="Patente del Auto">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" style="display: none" id="bicicleta" name="bicicleta"
                            value="{{cuentaRepartidor.patente_veh}}" maxlength="1" placeholder="Bicicleta">
                    </div>
                    <div class="form-group">
                        <input type="submit" class="btn btn-dark btn-round btn-block" value="Editar">
                    </div>
                </form>
            </div>
        </div>

    </div>
</div>


<script>
    function mostrarContrasena() {
        var tipo = document.getElementById("password");
        if (tipo.type == "password") {
            tipo.type = "text";
        } else {
            tipo.type = "password";
        }
    }
</script>
<script>
    function mostrarContrasena2() {
        var tipo = document.getElementById("password2");
        if (tipo.type == "password2") {
            tipo.type = "text";
        } else {
            tipo.type = "password2";
        }
    }
</script>
<script type="text/javascript">
    function valideKey(evt) {

        // code is the decimal ASCII representation of the pressed key.
        var code = (evt.which) ? evt.which : evt.keyCode;

        if (code == 8) { // backspace.
            return true;
        } else if (code >= 48 && code <= 57) { // is a number.
            return true;
        } else { // other keys.
            return false;
        }
    }
</script>
<script>
    function soloLetras(e) {
        key = e.keyCode || e.which;
        tecla = String.fromCharCode(key).toLowerCase();
        letras = " áéíóúabcdefghijklmnñopqrstuvwxyz";
        especiales = [8, 37, 39, 46];

        tecla_especial = false
        for (var i in especiales) {
            if (key == especiales[i]) {
                tecla_especial = true;
                break;
            }
        }

        if (letras.indexOf(tecla) == -1 && !tecla_especial)
            return false;
    }

    function limpia() {
        var val = document.getElementById("miInput").value;
        var tam = val.length;
        for (i = 0; i < tam; i++) {
            if (!isNaN(val[i]))
                document.getElementById("miInput").value = '';
        }
    }
</script>

<script src="js/bootstrap.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    AOS.init();
</script>
<script src="js/custom-general.js"></script>



{% endblock %}